{% extends "base_forum.html" %}

{% block content %}
  {% load staticfiles %}
  <p class="quiet">
    Instructions: {{ problem }} 
  </p>
  {% for hint in hints %}
    <p class="quiet">{{ hint }}</p>
  {% endfor %}

<form id="chatmain" class="chatforms" data-msgtype="main">
    <div class="form-group comment-group"> 
    <label for="commentContent" class="col-lg-2 control-label">New comment</label>
            <div class="col-lg-10">
            
            <textarea class="form-control" rows="3" id="message"></textarea>
            <span id="postResponse" class="text-success" style="display: none"></span>
            </div>

            <div class="form-group">
                <div class="col-lg-10 col-lg-offset-2">
                    <button type="submit" class="btn btn-primary">Submit</button>
                </div>
            </div>
    </div>
</form>
 
  
  <div id="chat">

{% load mptt_tags %}

{% recursetree statements %}



  <div class="statement" id={{ node.id }} data-msgtype="reply" data-msg_id="{{node.id}}">
          <div class="media-left">
            <div class="vote comment-votes"
                 data-msg_id="{{ node.id }}">
                    <div><i class="fa fa-chevron-up"
                            name="upvote"></i>
                    </div>
                    <div class="score">{{ node.score }}</div>
                    <div><i class="fa fa-chevron-down"
                            name="downvote"></i></div>
            </div>
        </div>
  
  
  <span class="msgtext">{{ node.message }}</span>
  <span class="handle">-&nbsp;{{ node.handle }}</span> 
  <span class="timestamp">{{ node.formatted_timestamp }}</span> 
    <div class="reply-container">
        <ul class="buttons">
        <li><a href="javascript:void(0)" name="replyButton" class="replylink">reply</a></li>
        </ul>
    </div>

        {% if not node.is_leaf_node %}
            {{ children }}
        {% endif %}
  </div>


{% endrecursetree %}

 </div>
{% endblock content %}

{% block afterbody %}
  <script type="text/javascript" src='{% static "jquery-1.12.1.min.js" %}'></script>
  <script type="text/javascript" src='{% static "reconnecting-websocket.min.js" %}'></script>
  <script type="text/javascript" src='{% static "forum.js" %}'></script>
{% endblock afterbody %}
